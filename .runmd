# ACR mirror

## Control settings

``` acr
: work_dir .symbol .run/acr_login

+ .sequence install, login, start 
: install       .event <Install scripts, environment, and config>
: login         .event <Sign-in to ACR on machine>
: start         .event <Start the mirror host>
```

## Install login scripts

``` install acr
: description   .symbol Installs the acr-login script
: node_title    .symbol Install acr-login script

+ .runtime
: .install acr-login.sh
```

## Authenticate with ACR to get a Token 

``` login acr 
: node_title .symbol Login to ACR

+ .runtime
: .process sh acr-login.sh
``` 

## Start the mirror host 

``` start acr
: file_src      .symbol .run/acr_login/acr_token
: artifact_type .symbol dadi.image.v1

+ .runtime 
: .mirror_host localhost:5000
``` 


# Portal host
``` host call
define a_host           install  .symbol portal
define b_host           app_host .symbol portal
```

``` portal install 
add work_dir                      .text   design/portal
add file_src                      .text   lib/elm/portal/portal.js
```

``` portal app_host
add node_title                   .text  Host lab app_host
add address                      .text  localhost:3000
```